
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" crossorigin="anonymous">
  
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Simulation, Computation &#8212; OpenFisca  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/guzzle.css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Reforms" href="reforms.html" />
    <link rel="prev" title="Periods, Instants" href="periodsinstants.html" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="reforms.html" title="Reforms"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="periodsinstants.html" title="Periods, Instants"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../summary.html">OpenFisca  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U"><i class="fas fa-dice-d6"></i> Key concepts</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Simulation, Computation</a></li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar"><div class="sphinxsidebar caption">
    <img src="https://cdn.rawgit.com/openfisca/openfisca-doc/master/source/static/img/logo_mini.svg" alt="OpenFisca"/>
    
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div> <!-- Template defined by the guzzle theme-->
</div>

<div class="sidebar-block">
    <div class="sidebar-toc">
        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html"><i class="fas fa-home"></i> Before you start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html"><i class="fas fa-cubes"></i> Architecture of OpenFisca</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html"><i class="fas fa-cogs"></i> Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html"><i class="fas fa-dice-d6"></i> Key concepts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tax_and_benefit_system.html">Tax and Benefit System</a></li>
<li class="toctree-l2"><a class="reference internal" href="variables.html">Variables and formulas</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters.html">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="person%2C_entities%2C_role.html">Person, entities, role</a></li>
<li class="toctree-l2"><a class="reference internal" href="periodsinstants.html">Periods, Instants</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Simulation, Computation</a></li>
<li class="toctree-l2"><a class="reference internal" href="reforms.html">Reforms</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../coding-the-legislation/index.html"><i class="fas fa-code"></i> From law to code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simulate/index.html"><i class="fas fa-chart-pie"></i> Running a simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openfisca-python-api/index.html"><i class="fab fa-python"></i> OpenFisca Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openfisca-web-api/index.html"><i class="fas fa-cloud"></i> OpenFisca web API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../find-help.html"><i class="fas fa-hands-helping"></i> To find help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html"><i class="fas fa-users"></i> Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html"><i class="fab fa-creative-commons"></i> License</a></li>
</ul>

    </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          
  <ul class="buttons-header">
    <li><a class="button-appearance" href="https://github.com/openfisca"><i class="fab fa-github"></i> GitHub</a></li>
    <li><a class="button-appearance" href="https://openfisca.org/"><i class="fas fa-home"></i> OpenFisca</a></li>
  </ul>
  
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../summary.html">Docs</a></li>
              
                <li><a href="index.html"><i class="fas fa-dice-d6"></i> Key concepts</a></li>
              
              <li>Simulation, Computation</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <section id="simulation-computation">
<h1>Simulation, Computation<a class="headerlink" href="#simulation-computation" title="Permalink to this headline">¶</a></h1>
<section id="definition">
<h2>Definition<a class="headerlink" href="#definition" title="Permalink to this headline">¶</a></h2>
<p>A <em>Simulation</em> is basically the OpenFisca frame for calculating taxes or benefits.</p>
<p>To calculate any variable you need to create a <em>Simulation</em> from the <em>TaxBenefitSystem</em> that is to say the framework where you will compute your result.</p>
<blockquote>
<div><p>Technically speaking it is the cache of input data and previously computed results.</p>
</div></blockquote>
<p>It’s possible to run many independent simulations using the same <code class="docutils literal notranslate"><span class="pre">TaxBenefitSystem</span></code>.</p>
</section>
<section id="computing-variables">
<h2>Computing variables<a class="headerlink" href="#computing-variables" title="Permalink to this headline">¶</a></h2>
<p>To compute taxes and benefits, you need to define on whom you want to do that and what you already know about those persons or groups of persons. This is what you will set as input data for your <em>Simulation</em>.</p>
<p>Then, be aware of the period over which you want to have your result. Some measures are calculated on a monthly basis other an annual one.</p>
<p>Now all the settings are given to run computation of taxes or benefits.</p>
<blockquote>
<div><p>For further information: see how to run a simulation in <a class="reference internal" href="../simulate/run-simulation.html"><span class="doc std std-doc">this section</span></a> and the following <a class="reference external" href="http://mybinder.org:/repo/openfisca/tutorial">tutorial</a> “How to handle periods”</p>
</div></blockquote>
<section id="application-how-to-calculate-a-variable">
<h3>Application: how to calculate a variable<a class="headerlink" href="#application-how-to-calculate-a-variable" title="Permalink to this headline">¶</a></h3>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calcul of the &#39;impot sur le revenu des personnes physiques&#39;</span>
<span class="n">impot</span> <span class="o">=</span> <span class="n">simulation</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span><span class="s1">&#39;irpp&#39;</span><span class="p">,</span> <span class="s1">&#39;2015&#39;</span><span class="p">)</span>
<span class="n">allocations_familiales</span> <span class="o">=</span> <span class="n">simulation</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span><span class="s1">&#39;af&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-01&#39;</span><span class="p">)</span>
</pre></div>
</div>
<blockquote>
<div><p>HINT: Don’t forget to give the period.</p>
</div></blockquote>
<p>The output is an array:</p>
<ul class="simple">
<li><p>positive if it is an amount the <em>entity</em> receives from the state.</p></li>
<li><p>negative if it is an amount the <em>entity</em> has to pay.</p></li>
</ul>
<p><a class="reference internal" href="../simulate/run-simulation.html"><span class="doc std std-doc">Read more about how to run a simulation</span></a>.</p>
</section>
</section>
</section>


          </div>
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="reforms.html" title="Reforms"
             >next</a> |</li>
        <li class="right" >
          <a href="periodsinstants.html" title="Periods, Instants"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../summary.html">OpenFisca  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" ><i class="fas fa-dice-d6"></i> Key concepts</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Simulation, Computation</a></li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright . Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>